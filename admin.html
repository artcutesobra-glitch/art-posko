<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Admin Access</title>
</head>
<body>

<h3>Admin Access</h3>
<p id="pinInfo"></p>

<script>
(function(){

  // ğŸ”‘ TOKEN CHECK (pang-hide lang ng link)
  const params = new URLSearchParams(location.search);
  const token = params.get("token");

  if(!token){
    document.body.innerHTML = "â›” Invalid admin link";
    return;
  }

  // ğŸ”¢ GENERATE RANDOM 4-DIGIT PIN
  const pin = Math.floor(1000 + Math.random() * 9000).toString();

  // ğŸ’¾ Save PIN for this session
  sessionStorage.setItem("admin_pin", pin);

  // ğŸ“¢ Show PIN to admin
  document.getElementById("pinInfo").innerHTML =
    "ğŸ” Your Admin PIN: <b>" + pin + "</b><br><br>" +
    "Enter this PIN when prompted.";

  // â³ After 5 seconds, ask for PIN
  setTimeout(() => {
    const input = prompt("Enter Admin PIN:");

    if(input !== sessionStorage.getItem("admin_pin")){
      document.body.innerHTML = "â›” Wrong PIN";
      return;
    }

    // âœ… Access granted
    window.location.href = "./index.html";
  }, 5000);

})();
</script>

</body>
</html>
