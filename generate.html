<!DOCTYPE html>
<html lang="tl">
<head>
<meta charset="UTF-8">
<title>Invite Access</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:Arial;background:#f2f2f2;padding:20px}
.card{background:#fff;padding:20px;border-radius:8px;max-width:500px;margin:auto;text-align:center}
</style>
</head>
<body>

<div class="card">
  <h2 id="status">⏳ Checking invite...</h2>
</div>

<script>
const WORKER_URL = "https://one-time-invite.artcutesobra.workers.dev";

const params = new URLSearchParams(location.search);
const code = params.get("code");
const statusEl = document.getElementById("status");

if(!code){
  statusEl.innerText = "❌ No invite code found";
}else{
  fetch(`${WORKER_URL}/invite?code=${code}`)
    .then(res => res.text())
    .then(text => {
      statusEl.innerText = text;

      // ✅ OPTIONAL REDIRECT
      if(text.includes("ACCESS GRANTED")){
        // location.href = "dashboard.html";
      }
    })
    .catch(()=>{
      statusEl.innerText = "❌ Error validating invite";
    });
}
</script>

</body>
</html>

